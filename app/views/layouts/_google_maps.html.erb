<%
  mapsDomain = request.ssl? ? "//maps-api-ssl" : "//maps"
  mapsURI = mapsDomain + ".google.com/maps/api/js?v=3&key=AIzaSyDfYDEux84tIAGaVSsq8VW5K6qHTI_GqBE&sensor=false&libraries=places"
%>

<script>
// async load google maps api
// https://developers.google.com/maps/documentation/javascript/examples/map-simple-async
function loadScript() {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  // use my global callback "showMaps"
  // on Faft pages, this is defined in FaftProfile controller
  script.src = '<%= mapsURI.html_safe %>&callback=showMap';
  document.body.appendChild(script);
}
window.onload = loadScript;
</script>
